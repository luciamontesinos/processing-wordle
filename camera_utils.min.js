(function(){"use strict";function t(t){var n=0;return function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}}}function n(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<t.length;++n){var e=t[n];if(e&&e.Math==Math)return e}throw Error("Cannot find global object")}function e(t,n){if(n)t:{var e=w;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];if(!(i in e))break t;e=e[i]}t=t[t.length-1],r=e[t],n=n(r),n!=r&&null!=n&&b(e,t,{configurable:!0,writable:!0,value:n})}}function r(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function i(n){var e="undefined"!=typeof Symbol&&Symbol.iterator&&n[Symbol.iterator];return e?e.call(n):{next:t(n)}}function o(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function u(t){if(t.i)throw new TypeError("Generator is already running");t.i=!0}function c(t,n){t.h={F:n,G:!0},t.j=t.m}function a(t){this.g=new o,this.h=t}function s(t,n){u(t.g);var e=t.g.g;return e?h(t,"return"in e?e.return:function(t){return{value:t,done:!0}},n,t.g.return):(t.g.return(n),f(t))}function h(t,n,e,r){try{var i=n.call(t.g.g,e);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.g.i=!1,i;var o=i.value}catch(n){return t.g.g=null,c(t.g,n),f(t)}return t.g.g=null,r.call(t.g,o),f(t)}function f(t){for(;t.g.j;)try{var n=t.h(t.g);if(n)return t.g.i=!1,{value:n.value,done:!1}}catch(n){t.g.o=void 0,c(t.g,n)}if(t.g.i=!1,t.g.h){if(n=t.g.h,t.g.h=null,n.G)throw n.F;return{value:n.return,done:!0}}return{value:void 0,done:!0}}function l(t){this.next=function(n){return u(t.g),t.g.g?n=h(t,t.g.g.next,n,t.g.l):(t.g.l(n),n=f(t)),n},this.throw=function(n){return u(t.g),t.g.g?n=h(t,t.g.g.throw,n,t.g.l):(c(t.g,n),n=f(t)),n},this.return=function(n){return s(t,n)},this[Symbol.iterator]=function(){return this}}function v(t){function n(n){return t.next(n)}function e(n){return t.throw(n)}return new Promise(function(r,i){function o(t){t.done?r(t.value):Promise.resolve(t.value).then(n,e).then(o,i)}o(t.next())})}function g(t,n){this.video=t,this.i=0,this.h=Object.assign(Object.assign({},x),n)}function p(t){window.requestAnimationFrame(function(){d(t)})}function y(t,n){t.g=n,t.video.srcObject=n,t.video.onloadedmetadata=function(){t.video.play(),p(t)}}function d(t){var n=null;t.video.paused||t.video.currentTime===t.i||(t.i=t.video.currentTime,n=t.h.onFrame()),n?n.then(function(){p(t)}):p(t)}var b="function"==typeof Object.defineProperties?Object.defineProperty:function(t,n,e){return t==Array.prototype||t==Object.prototype?t:(t[n]=e.value,t)},w=n(this);e("Symbol",function(t){function n(t){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return new e(r+(t||"")+"_"+i++,t)}function e(t,n){this.g=t,b(this,"description",{configurable:!0,writable:!0,value:n})}if(t)return t;e.prototype.toString=function(){return this.g};var r="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return n}),e("Symbol.iterator",function(n){if(n)return n;n=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<e.length;i++){var o=w[e[i]];"function"==typeof o&&"function"!=typeof o.prototype[n]&&b(o.prototype,n,{configurable:!0,writable:!0,value:function(){return r(t(this))}})}return n}),o.prototype.l=function(t){this.o=t},o.prototype.return=function(t){this.h={return:t},this.j=this.m},e("Promise",function(t){function n(t){this.h=0,this.i=void 0,this.g=[],this.o=!1;var n=this.j();try{t(n.resolve,n.reject)}catch(t){n.reject(t)}}function e(){this.g=null}function r(t){return t instanceof n?t:new n(function(n){n(t)})}if(t)return t;e.prototype.h=function(t){if(null==this.g){this.g=[];var n=this;this.i(function(){n.l()})}this.g.push(t)};var o=w.setTimeout;e.prototype.i=function(t){o(t,0)},e.prototype.l=function(){for(;this.g&&this.g.length;){var t=this.g;this.g=[];for(var n=0;n<t.length;++n){var e=t[n];t[n]=null;try{e()}catch(t){this.j(t)}}}this.g=null},e.prototype.j=function(t){this.i(function(){throw t})},n.prototype.j=function(){function t(t){return function(r){e||(e=!0,t.call(n,r))}}var n=this,e=!1;return{resolve:t(this.A),reject:t(this.l)}},n.prototype.A=function(t){if(t===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof n)this.C(t);else{t:switch(typeof t){case"object":var e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.v(t):this.m(t)}},n.prototype.v=function(t){var n=void 0;try{n=t.then}catch(t){return void this.l(t)}"function"==typeof n?this.D(n,t):this.m(t)},n.prototype.l=function(t){this.u(2,t)},n.prototype.m=function(t){this.u(1,t)},n.prototype.u=function(t,n){if(0!=this.h)throw Error("Cannot settle("+t+", "+n+"): Promise already settled in state"+this.h);this.h=t,this.i=n,2===this.h&&this.B(),this.H()},n.prototype.B=function(){var t=this;o(function(){if(t.I()){var n=w.console;void 0!==n&&n.error(t.i)}},1)},n.prototype.I=function(){if(this.o)return!1;var t=w.CustomEvent,n=w.Event,e=w.dispatchEvent;return void 0===e||("function"==typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"==typeof n?t=new n("unhandledrejection",{cancelable:!0}):(t=w.document.createEvent("CustomEvent"),t.initCustomEvent("unhandledrejection",!1,!0,t)),t.promise=this,t.reason=this.i,e(t))},n.prototype.H=function(){if(null!=this.g){for(var t=0;t<this.g.length;++t)u.h(this.g[t]);this.g=null}};var u=new e;return n.prototype.C=function(t){var n=this.j();t.s(n.resolve,n.reject)},n.prototype.D=function(t,n){var e=this.j();try{t.call(n,e.resolve,e.reject)}catch(t){e.reject(t)}},n.prototype.then=function(t,e){function r(t,n){return"function"==typeof t?function(n){try{i(t(n))}catch(t){o(t)}}:n}var i,o,u=new n(function(t,n){i=t,o=n});return this.s(r(t,i),r(e,o)),u},n.prototype.catch=function(t){return this.then(void 0,t)},n.prototype.s=function(t,n){function e(){switch(r.h){case 1:t(r.i);break;case 2:n(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?u.h(e):this.g.push(e),this.o=!0},n.resolve=r,n.reject=function(t){return new n(function(n,e){e(t)})},n.race=function(t){return new n(function(n,e){for(var o=i(t),u=o.next();!u.done;u=o.next())r(u.value).s(n,e)})},n.all=function(t){var e=i(t),o=e.next();return o.done?r([]):new n(function(t,n){function i(n){return function(e){u[n]=e,c--,0==c&&t(u)}}var u=[],c=0;do{u.push(void 0),c++,r(o.value).s(i(u.length-1),n),o=e.next()}while(!o.done)})},n});var m="function"==typeof Object.assign?Object.assign:function(t,n){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};e("Object.assign",function(t){return t||m});var j=this||self,x={facingMode:"user",width:640,height:480};g.prototype.stop=function(){var t,n,e,r,o=this;return v(new l(new a(function(u){if(o.g){for(t=o.g.getTracks(),n=i(t),e=n.next();!e.done;e=n.next())r=e.value,r.stop();o.g=void 0}u.j=0})))},g.prototype.start=function(){var t,n=this;return v(new l(new a(function(e){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),t=n.h,e.return(navigator.mediaDevices.getUserMedia({video:{facingMode:t.facingMode,width:t.width,height:t.height}}).then(function(t){y(n,t)}).catch(function(t){var n="Failed to acquire camera feed: "+t;throw console.error(n),alert(n),t}))})))};var A,E=["Camera"],O=j;E[0]in O||void 0===O.execScript||O.execScript("var "+E[0]);for(;E.length&&(A=E.shift());)E.length||void 0===g?O=O[A]&&O[A]!==Object.prototype[A]?O[A]:O[A]={}:O[A]=g}).call(this);